# Домашнее задание к занятию «Базы данных, их типы»   - `Дмитрий Демченко`


### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

### Решение

#### 1.1. Для бюджетирования проектов и формирования финансовых аналитических отчетов и прогнозирования рисков, лучше всего подойдет реляционная СУБД, такая как PostgreSQL или MySQL. Они обеспечивают высокую производительность при выполнении сложных SQL-запросов и имеют мощные механизмы обеспечения целостности данных.

#### 1.1.* Чтобы ускорить работу хеширования, можно использовать различные библиотеки, такие как `Crypto++` или `OpenSSL`. Также стоит рассмотреть возможность использования готового решения, например, `Redis`, который может выполнять функции кеша и хранилища данных одновременно.

#### 1.2. Для создания лендингов и управления данными в CRM, лучше всего подойдут NoSQL базы данных, такие как MongoDB или Couchbase. Эти базы данных позволяют легко масштабироваться и обеспечивают гибкость в управлении данными, что особенно важно для таких динамичных систем, как лендинги и CRM.

#### 1.2.* Да, можно использовать одну СУБД для обеих задач. Например, можно выбрать MongoDB, которая поддерживает как документы, так и таблицы. Это позволит унифицировать управление данными и упростить интеграцию между системами.

#### 1.3. Для базы данных корпоративных норм и правил, обучающего материала и структуры компании, отлично подойдет реляционная СУБД, такая как PostgreSQL или MySQL. Эти системы обеспечивают высокую степень надежности и безопасности данных, а также обладают мощными средствами для анализа и отчетности.

#### 1.3.* Да, можно использовать ту же СУБД, что и для задачи бюджетирования. Это позволит унифицировать управление данными и снизить затраты на администрирование.

#### 1.4. Для задач логистики, связанных с маршрутизацией и распределением курьеров, можно использовать геоинформационные системы (GIS) или специализированные решения, такие как PostGIS. Такие системы обеспечивают работу с пространственными данными и позволяют строить сложные геометрические расчеты, необходимые для оптимизации маршрутов.

#### 1.4.* Отдел закупок может использовать ту же СУБД, что и логисты, если их задачи достаточно тесно связаны. В противном случае, можно рассмотреть использование двух отдельных баз данных, но интегрированных через общие API или веб-сервисы.

#### 1.5.* Реализовать все задачи с использованием одной СУБД возможно, но это может привести к излишней сложности и снижению производительности. Лучше использовать комбинацию различных типов СУБД, чтобы каждая из них решала свои специфические задачи наилучшим образом.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

### Решение

1. Пользователь выбирает сумму пополнения и указывает номер телефона.
2. Система проверяет наличие средств на счету пользователя для совершения платежа.
3. Если средств достаточно, пользователь подтверждает операцию.
4. Платёжная система блокирует средства на счету пользователя до завершения операции.
5. Средства переводятся на счёт мобильного оператора.
6. Баланс телефона пользователя увеличивается на сумму перевода.

### 2.1.* При автопополнении счета телефона:

1. Пользователь задает параметры автоплатежа, включая периодичность, сумму пополнения и номер телефона.
2. Система проверяет наличие средств на счету пользователя для совершения автоплатежей.
3. Если средств достаточно, пользователь подтверждает автоплатеж.
4. Система регулярно (в соответствии с установленным периодом) проверяет необходимость пополнения баланса.
5. Если баланс телефона ниже установленного порога, система блокирует средства на счету пользователя и переводит их на счет мобильного оператора.
6. Баланс телефона пользователя увеличивается на сумму перевода.

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

### Решение 

1. **Целостность данных**: SQL-системы предоставляют мощные инструменты для обеспечения целостности данных, такие как ограничения и триггеры. Это помогает предотвратить ошибки в данных и поддерживать их согласованность.
2. **Поддержка ACID-транзакций**: ACID (Atomicity, Consistency, Isolation, Durability) – это набор принципов, гарантирующих корректное выполнение транзакций. SQL-системы полностью поддерживают эти принципы, что делает их идеальными для приложений, требующих высокой степени надёжности и консистентности данных.
3. **Прозрачная индексация**: SQL-системы обычно предлагают встроенные индексы, которые облегчают работу с данными и повышают производительность. Индексирование в NoSQL часто требует дополнительных усилий и знаний.
4. **Распределённая обработка**: Современные SQL-системы могут быть распределены и обеспечивать высокую доступность и отказоустойчивость. Они также поддерживают репликацию и шардинг данных для повышения масштабируемости.
5. **Полнотекстовый поиск**: Многие современные SQL-системы поддерживают полнотекстовые индексы и поиск, что позволяет эффективно искать по текстовым данным без необходимости дополнительного слоя абстракции

3.1.* Преимущества NewSQL систем перед SQL и NoSQL:

NewSQL системы представляют собой гибридный подход, объединяющий лучшие черты SQL и NoSQL. Их ключевыми преимуществами являются:

1. **Масштабируемость**: NewSQL системы обеспечивают горизонтальное масштабирование, аналогичное NoSQL, что позволяет увеличивать производительность и емкость системы путем добавления новых узлов.
2. **ACID-транзакции**: Как и классические SQL-системы, NewSQL поддерживают ACID-транзакции, что обеспечивает высокий уровень надежности и согласованности данных.
3. **Гибкость модели данных**: NewSQL позволяет использовать как реляционную модель данных, так и документную, графическую или ключ-значение, что расширяет возможности для разработчиков и архитекторов баз данных.
4. **Производительность**: Благодаря использованию современных технологий, таких как SSD диски и in-memory базы данных, NewSQL системы могут достигать очень высоких уровней производительности, сравнимых с NoSQL.
5. **Экономия затрат**: В отличие от NoSQL, где часто требуется дополнительное оборудование и программное обеспечение для обработки данных, NewSQL использует стандартные серверы и предлагает встроенные функции и инструменты, что может сократить общую стоимость владения системой.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

### Решение 

Выбор типа СУБД и модели распределенных вычислений зависит от характера данных и требований к системе. Рассмотрим несколько вариантов:

### Тип СУБД

#### Реляционные СУБД
Если данные хорошо структурированы и требуется высокая производительность при выполнении сложных SQL-запросов, предпочтение следует отдать реляционным СУБД, таким как PostgreSQL или MySQL. Они обеспечивают хорошую поддержку ACID-транзакций и эффективное управление большими объемами данных.

#### NoSQL СУБД
Если данные слабоструктурированы или необходимо гибкое управление схемой, можно рассмотреть NoSQL СУБД, такие как MongoDB или Cassandra. Они могут обеспечить высокую производительность и масштабируемость при работе с неструктурированными данными.

#### Графовые СУБД
Если необходимо обрабатывать взаимосвязанные данные, хорошим выбором будет графовая СУБД, например Neo4j. Они позволяют эффективно работать с сетевыми структурами данных и выполнять сложные аналитические запросы.

### Модель распределенных вычислений

#### MapReduce
MapReduce является популярной моделью для распределенной обработки больших объемов данных. Она позволяет эффективно разбивать большие задачи на меньшие части и параллельно их обрабатывать. Подходит для больших массивов данных, которые нужно агрегировать или фильтровать.

#### Spark
Spark — это более современная альтернатива MapReduce, предлагающая более высокую производительность и гибкость. Он позволяет использовать множество различных моделей данных и имеет встроенные библиотеки для машинного обучения и аналитики.

#### Dask
Dask — еще одна альтернатива для распределенных вычислений, предназначенная для Python-программистов. Он интегрируется с Pandas и NumPy и позволяет обрабатывать большие объемы данных с использованием парадигмы разделения-объединения.

#### TensorFlow
TensorFlow — это платформа для машинного обучения, которая также подходит для распределенных вычислений. Если задача связана с глубоким обучением или другими моделями машинного обучения, TensorFlow может оказаться оптимальным решением.

#### Flink
Apache Flink — это потоковая платформа для обработки данных в реальном времени. Если необходимо обрабатывать данные в режиме реального времени, Flink может быть хорошим выбором.

### Вывод

Оптимальный выбор будет зависеть от конкретных потребностей и характеристик данных. Например, если важна структура данных и требуется поддержка ACID-транзакций, лучшим выбором будет реляционная СУБД. Если данные слабоструктурированы и требуется высокая производительность, лучше подойдет NoSQL СУБД. Для обработки взаимосвязанных данных графовая СУБД будет отличным вариантом.

Для выполнения большого количества вычислений с огромным объемом данных, скорее всего, подойдет модель распределенных вычислений, такая как Spark или Dask, поскольку они предлагают высокую производительность и гибкость. Если задача связана с машинным обучением, TensorFlow может быть хорошей опцией. Если же требуется обработка данных в реальном времени, стоит рассмотреть Apache Flink.

